<!-- ID Card / Admit Card Modal -->
<div id="idCardModal" class="idcard-modal" role="dialog" aria-modal="true" aria-labelledby="idCardTitle" aria-hidden="true">
    <!-- Modal Backdrop -->
    <div class="idcard-modal-backdrop" aria-hidden="true"></div>

    <!-- Modal Container -->
    <div class="idcard-modal-container">
        <!-- Modal Header -->
        <div class="idcard-modal-header">
            <h2 id="idCardTitle" class="idcard-modal-title">
                <svg class="idcard-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="4" width="18" height="16" rx="2"/>
                    <path d="M7 8h10M7 12h6M7 16h4"/>
                </svg>
                Admit Card
            </h2>
            <button 
                id="closeIdCardBtn" 
                class="idcard-modal-close"
                aria-label="Close admit card modal"
            >
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>

        <!-- Modal Body -->
        <div class="idcard-modal-body">
            <!-- Loading State -->
            <div id="idCardLoading" class="idcard-loading">
                <div class="idcard-loader-spinner">
                    <svg viewBox="0 0 50 50">
                        <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="4"/>
                    </svg>
                </div>
                <p>Loading admit card...</p>
            </div>

            <!-- Error State -->
            <div id="idCardError" class="idcard-error" style="display: none;">
                <svg class="idcard-error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="12"/>
                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <h3>Unable to Load Admit Card</h3>
                <p id="idCardErrorMessage">No admit card found for your account.</p>
                <button id="retryLoadIdCard" class="btn btn-secondary">
                    Retry
                </button>
            </div>

            <!-- Content State -->
            <div id="idCardContent" class="idcard-content" style="display: none;">
                <!-- Student Info -->
                <div class="idcard-info-section">
                    <div class="idcard-info-grid">
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Student Name</span>
                            <span id="idCardStudentName" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Registration No</span>
                            <span id="idCardRegNo" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Department</span>
                            <span id="idCardDepartment" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Year & Section</span>
                            <span id="idCardYearSection" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Exam Name</span>
                            <span id="idCardExamName" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Exam Code</span>
                            <span id="idCardExamCode" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Exam Date</span>
                            <span id="idCardExamDate" class="idcard-info-value">-</span>
                        </div>
                        <div class="idcard-info-item">
                            <span class="idcard-info-label">Downloads</span>
                            <span id="idCardDownloadCount" class="idcard-info-value">-</span>
                        </div>
                    </div>
                </div>

                <!-- Document Preview -->
                <div class="idcard-preview-section">
                    <div class="idcard-preview-header">
                        <h3>Document Preview</h3>
                        <span id="idCardFileSize" class="idcard-file-size">-</span>
                    </div>

                    <div class="idcard-preview-container">
                        <!-- PDF Preview -->
                        <div id="idCardPdfPreview" class="idcard-pdf-preview" style="display: none;">
                            <embed 
                                id="idCardPdfEmbed" 
                                type="application/pdf" 
                                width="100%" 
                                height="500px"
                            />
                        </div>

                        <!-- Image Preview -->
                        <div id="idCardImagePreview" class="idcard-image-preview" style="display: none;">
                            <img 
                                id="idCardImage" 
                                alt="Admit Card" 
                                class="idcard-preview-image"
                            />
                        </div>

                        <!-- Fallback Text Preview -->
                        <div id="idCardTextPreview" class="idcard-text-preview" style="display: none;">
                            <pre id="idCardTextContent"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Footer -->
        <div class="idcard-modal-footer">
            <button id="printIdCardBtn" class="btn btn-secondary" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <polyline points="6 9 6 2 18 2 18 9"/>
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                    <rect x="6" y="14" width="12" height="8"/>
                </svg>
                Print
            </button>
            <button id="downloadIdCardBtn" class="btn btn-primary" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                <span class="btn-text">Download PDF</span>
                <span class="btn-loader" style="display: none;">
                    <svg class="spinner" viewBox="0 0 50 50">
                        <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="4"/>
                    </svg>
                </span>
            </button>
        </div>
    </div>
</div>
